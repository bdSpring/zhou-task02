function AirShip(){this.status=1}function showConsole(e){var t=document.querySelector("#console .msgbox"),i=document.createElement("div");i.className="msg",i.innerHTML="<span>["+getDateStr()+"]: "+e+"</span>",t.appendChild(i)}function getDateStr(){var e=new Date,t=e.getFullYear(),i=e.getMonth()+1;i=10>i?"0"+i:i;var n=e.getDate();n=10>n?"0"+n:n;var r=e.getHours();r=10>r?"0"+r:r;var a=e.getMinutes();return a=10>a?"0"+a:a,t+"-"+i+"-"+n+" "+r+":"+a}AirShip.prototype.createAirShip=function(){airShips[AirShipNum].style.display="block",eventUtil.addHandler(commandLines[AirShipNum],"click",function(e){"flybtn"===e.target.className.toLowerCase()&&alert("开始飞行"),"sflybtn"===e.target.className.toLowerCase()&&alert("停止飞行"),"destroy"===e.target.className.toLowerCase()&&alert("销毁")}),this.powerSystem.init(),this.energySystem.init()},AirShip.prototype.powerSystem={init:function(){this.speed=20,this.usePower=5},initStartFly:function(){eventUtil.addHandler(createBtn,"click",function(e){})},startFly:function(){},stopFly:function(){}},AirShip.prototype.energySystem={init:function(){this.power=100,this.addPower=2}},AirShip.prototype.signalSystem={},AirShip.prototype.boomSystem={};var AirShipMaxNum=4,AirShipNum=0,createBtn=document.getElementById("newship"),commandBox=document.getElementById("command-box"),commandLines=commandBox.getElementsByTagName("div"),airShips=document.querySelectorAll(".airship"),airShipsArr=[];eventUtil.addHandler(createBtn,"click",function(e){AirShipMaxNum>AirShipNum?(commandLines[AirShipNum].style.display="block",airShipsArr[AirShipNum]=new AirShip,airShipsArr[AirShipNum].createAirShip(),AirShipNum+=1,showConsole(AirShipNum+"号飞船起飞...")):alert("最多只能起飞"+AirShipMaxNum+"架飞船！请先销毁一架飞船！")});var eventUtil={addHandler:function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i},removeHandler:function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent?e.detachEvent("on"+t,i):e["on"+t]=null}};